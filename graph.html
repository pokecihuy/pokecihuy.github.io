<!DOCTYPE html>
<html>
<head>
    <title>Visdat Project</title>
    <meta charset="UTF-8">
    <!-- Highchart -->
    <script src="https://code.highcharts.com/highcharts.src.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"></script>
    <!-- Materialize -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
</head>
<body>
    <div id="container" style="width: 100%; height: 100vh; padding: 20px 20px 20px 20px;
                               background-color: #e0e0e0">
        <div id="mainChart" class="z-depth-4" style="height: 100%;"></div>

        <div id="past" class="modal bottom-sheet">
            <div class="modal-content">
              <h4>Past Event</h4>
              <p>A bunch of text</p>
            </div>
        </div>

        <div id="habibie" class="modal bottom-sheet">
            <div class="modal-content">
              <h4>BJ Habibie</h4>
              <p>A bunch of text</p>
            </div>
        </div>

        <div id="gusdur" class="modal bottom-sheet">
            <div class="modal-content">
              <h4>Abdurrahman Wahid</h4>
              <p>A bunch of text</p>
            </div>
        </div>

        <div id="megawati" class="modal bottom-sheet">
            <div class="modal-content">
              <h4>Megawati Soekarno Putri</h4>
              <p>A bunch of text</p>
            </div>
        </div>

        <div id="sby" class="modal bottom-sheet">
            <div class="modal-content">
              <h4>Susilo Bambang Yudhoyono</h4>
              <p>A bunch of text</p>
            </div>
        </div>

        <div id="jokowi" class="modal bottom-sheet">
            <div class="modal-content">
              <h4>Joko Widodo</h4>
              <p>A bunch of text</p>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript">

    $(document).ready(function(){
        $('.modal').modal();
    });

    var years = [];
    var rates = [
        4.87, 4.69, 5.46, 6.36, 6.08, 8.10, 9.06, 9.67,
        9.86, 10.75, 10.36, 9.43, 8.42, 8.01, 7.27, 7.22,
        6.25, 6.02, 5.82, 5.99, 5.56
    ];

    for (var year = 1996; year < 2017; year++) {
      years.push(year);
    }

    let mainChart = Highcharts.chart("mainChart", {
        chart: {
            type: "line",
            style: {
                "fontFamily": "GillSans, Calibri, Trebuchet, sans-serif"
            },
            events: {
                load: function(){
                    this.ctooltip = new Highcharts.Tooltip(this, this.options.tooltip);
                }
            }
        },
        plotOptions: {
            series: {
                events: {
                    legendItemClick: function () {
                        $('#' + this.userOptions.id).modal('open');
                        return false;
                    },
                    click: function() {
                        $('#' + this.userOptions.id).modal('open');
                    }
                },
                states: {
                    hover: {
                        enabled: true,
                        lineWidth: 10
                    }
                },
                lineWidth: 5
            },
            line: {
                marker: {
                    enabled: false,
                    states: {
                        hover: {
                            enabled: false
                        }
                    }
                }
            }
        },
        colors: ["#bdbdbd", "#26c6da", "#ab47bc", "#66bb6a", "#673ab7", "#d4e157"],
        credits: {
            text: "Visdat Cihuy",
            href: "http://visdat-cihuy.github.io"
        },
        title: {
            text: "Indonesia Unemployent Rate by Presidency Term"
        },
        xAxis: {
            title: {
                text: "Year"
            },
            categories: years
        },
        yAxis: {
            title: {
                text: "Rate (%)"
            },
            alternateGridColor: "#f5f5f5"
        },
        series: [
            {
                id: "past",
                name: "Past Events",
                data: rates.slice(0,2).map(function(item, pos){
                        return {
                            x: years[pos],
                            y: item
                        }
                    })
            },
            {
                id: "habibie",
                name: "BJ Habibie",
                data: rates.slice(1,4).map(function(item, pos){
                        return {
                            x: years[pos + 1],
                            y: item
                        }
                    })
            },
            {
                id: "gusdur",
                name: "Abdurrahman Wahid",
                data: rates.slice(3,6).map(function(item, pos){
                        return {
                            x: years[pos + 3],
                            y: item
                        }
                    })
            },
            {
                id: "megawati",
                name: "Megawati",
                data: rates.slice(5,9).map(function(item, pos){
                        return {
                            x: years[pos + 5],
                            y: item
                        }
                    })
            },
            {
                id: "sby",
                name: "SBY",
                data: rates.slice(8,19).map(function(item, pos){
                        return {
                            x: years[pos + 8],
                            y: item
                        }
                    })
            },
            {
                id: "jokowi",
                name: "Joko Widodo",
                data: rates.slice(18,21).map(function(item, pos){
                        return {
                            x: years[pos + 18],
                            y: item
                        }
                    })
            }
        ],
        tooltip: {
            enabled: false
        }
    });

</script>

</html>
