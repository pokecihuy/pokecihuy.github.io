<!DOCTYPE html>
<html>
<head>
    <title>Visdat Project</title>
    <meta charset="UTF-8">
    <!-- Highchart -->
    <script src="https://code.highcharts.com/highcharts.src.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"></script>
    <!-- Materialize -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
</head>
<body>
    <div id="container" style="width: 100%; height: 100vh; padding: 20px 20px 20px 20px;
                               background-color: #e0e0e0">
        <div id="mainChart" class="z-depth-4" style="height: 100%;"></div>

        <div id="past" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>Collapse of Rupiah</h5></li>
                    <li class="collection-item">138 billion US dollars loan</li>
                    <li class="collection-item">Only 14.44 billion US dollars foreign exchange left</li>
                    <li class="collection-item">Rupiah values reach Rp. 17000/US dollar</li>
                    <li class="collection-item">About 70% industries committed to be collapsed</li>
                </ul>
            </div>
        </div>

        <div id="habibie" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>Significant inflation</h5></li>
                    <li class="collection-item">Huge decline on currency value</li>
                    <li class="collection-item">Massive termination of employment</li>
                    <li class="collection-item">Bank liquidity crisis and credit issues</li>
                    <li class="collection-item">Colossal foreign investments in local industries</li>
                    <li class="collection-item">Failed IMF aid attempt</li>
                    <li class="collection-item">The price of basic needs keep increasing</li>
                    <li class="collection-item">Structural Adjustment Program</li>
                </ul>
            </div>
        </div>

        <div id="gusdur" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>National Chaos</h5></li>
                    <li class="collection-item">Many corruption, collution, and nepotism occurred</li>
                    <li class="collection-item">Many social and racial riots happened</li>
                    <li class="collection-item">Relationship between Indonesia and IMF was not really well</li>
                    <li class="collection-item">Political and social instability</li>
                    <li class="collection-item">Rupiah value to American Dollar is approximately 12.000/USD on April 2001</li>
                </ul>
            </div>
        </div>

        <div id="megawati" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>Early infrastructure construction</h5></li>
                    <li class="collection-item">Increasing of currency value</li>
                    <li class="collection-item">Unstable economic policies</li>
                    <li class="collection-item">Deceleration of economic growth</li>
                    <li class="collection-item">The continuing of monetary crisis</li>
                    <li class="collection-item">Falling GDP</li>
                </ul>
            </div>
        </div>

        <div id="sby" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="collection with-header">
                    <li class="collection-header"><h5>More Stable Politics (2005-2009)</h5></li>
                    <li class="collection-item">Increasing informal labor marke</li>
                    <li class="collection-item">Privatization of labor</li>
                    <li class="collection-item">Relatively stable economic policies</li>
                </ul>
                <ul class="collection with-header">
                    <li class="collection-header"><h5>Indonesia become member of G-20 (2009-2014)</h5></li>
                    <li class="collection-item">Increasing GDP</li>
                    <li class="collection-item">Equity funding</li>
                    <li class="collection-item">The rise of inflation rate</li>
                    <li class="collection-item">Stronger IDR value to USD</li>
                </ul>
            </div>
        </div>

        <div id="jokowi" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="collection with-header">
                <li class="collection-header"><h5>Free market</h5></li>
                  <li class="collection-item">Encouraging free-market policy</li>
                  <li class="collection-item">Fall of oil prices from 100 to 30 USD per barrel</li>
                  <li class="collection-item">Badan Penyelenggara Jaminan Sosial Ketenagakerjaan established</li>
                </ul>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript">

    $(document).ready(function(){
        $('.modal').modal();
    });

    var years = [];
    var rates = [
        4.87, 4.69, 5.46, 6.36, 6.08, 8.10, 9.06, 9.67,
        9.86, 10.75, 10.36, 9.43, 8.42, 8.01, 7.27, 7.22,
        6.25, 6.02, 5.82, 5.99, 5.56
    ];

    for (var year = 1996; year < 2017; year++) {
      years.push(year);
    }

    let mainChart = Highcharts.chart("mainChart", {
        chart: {
            type: "line",
            style: {
                "fontFamily": "GillSans, Calibri, Trebuchet, sans-serif"
            },
            events: {
                load: function(){
                    this.ctooltip = new Highcharts.Tooltip(this, this.options.tooltip);
                }
            }
        },
        plotOptions: {
            series: {
                events: {
                    legendItemClick: function () {
                        $('#' + this.userOptions.id).modal('open');
                        return false;
                    },
                    click: function() {
                        $('#' + this.userOptions.id).modal('open');
                    }
                },
                states: {
                    hover: {
                        enabled: true,
                        lineWidth: 10
                    }
                },
                lineWidth: 5
            },
            line: {
                marker: {
                    enabled: false,
                    states: {
                        hover: {
                            enabled: false
                        }
                    }
                }
            }
        },
        colors: ["#bdbdbd", "#26c6da", "#ab47bc", "#66bb6a", "#673ab7", "#d4e157"],
        credits: {
            text: "Visdat Cihuy",
            href: "http://visdat-cihuy.github.io"
        },
        title: {
            text: "Indonesia Unemployent Rate by Presidency Term"
        },
        xAxis: {
            title: {
                text: "Year"
            },
            categories: years
        },
        yAxis: {
            title: {
                text: "Rate (%)"
            },
            alternateGridColor: "#f5f5f5"
        },
        series: [
            {
                id: "past",
                name: "Monetary Crisis",
                data: rates.slice(0,2).map(function(item, pos){
                        return {
                            x: years[pos],
                            y: item
                        }
                    })
            },
            {
                id: "habibie",
                name: "BJ Habibie",
                data: rates.slice(1,4).map(function(item, pos){
                        return {
                            x: years[pos + 1],
                            y: item
                        }
                    })
            },
            {
                id: "gusdur",
                name: "Abdurrahman Wahid",
                data: rates.slice(3,6).map(function(item, pos){
                        return {
                            x: years[pos + 3],
                            y: item
                        }
                    })
            },
            {
                id: "megawati",
                name: "Megawati",
                data: rates.slice(5,9).map(function(item, pos){
                        return {
                            x: years[pos + 5],
                            y: item
                        }
                    })
            },
            {
                id: "sby",
                name: "SBY",
                data: rates.slice(8,19).map(function(item, pos){
                        return {
                            x: years[pos + 8],
                            y: item
                        }
                    })
            },
            {
                id: "jokowi",
                name: "Joko Widodo",
                data: rates.slice(18,21).map(function(item, pos){
                        return {
                            x: years[pos + 18],
                            y: item
                        }
                    })
            }
        ],
        tooltip: {
            enabled: false
        }
    });

</script>

</html>
